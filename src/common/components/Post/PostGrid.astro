---
import { getCategory } from "@/libs/api/category";
import PostCard from "./PostCard.astro";

import { getPosts } from "@/libs/api/post";

const categorySlug = "story-news";
const queryCatIDFromSlug = await getCategory({ slug: categorySlug });
const catID = queryCatIDFromSlug[0].id;
const posts = await getPosts({ _embed: "", per_page: "5", categories: catID });
---

<div class="mt-10 grid grid-cols-2 gap-4 md:grid-cols-3 lg:grid-cols-5">
	{posts.map((post: any, idx: any) => <PostCard key={idx} post={post} />)}
</div>
