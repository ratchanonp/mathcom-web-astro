---
import Hero from "@/common/components/Hero.astro";
import BaseLayout from "@/layouts/BaseLayout.astro";
import NewsCard2 from "@/modules/news-events/components/news/NewsCard2.astro";

import { getLangFromUrl, useTranslations } from "@/i18n/utils";
import { getNews } from "@/libs/api/post";
const apams = await getNews("apam", -1);

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<BaseLayout title={t("news.apam.title")}>
	<Hero title={t("news.apam.hero.title")} subtitle={t("news.apam.hero.subTitle")} />
	<main class="mx-auto my-5 mb-20 max-w-screen-xl space-y-5 px-5">
		<section>
			<h2 class="font-kanit text-2xl font-bold lg:text-3xl">{t("news.apam.what_is_apam")}</h2>
			<p class="font-sarabun">
				{t("news.apam.description")}
			</p>
		</section>
		<section>
			<h2 class="font-kanit text-2xl font-bold lg:text-3xl">{t("news.apam.news-updates")}</h2>

			<div class="mt-5 grid grid-cols-4 gap-5">
				{
					apams.map((apam: any) => {
						return <NewsCard2 news={apam} />;
					})
				}
			</div>
		</section>
	</main>
</BaseLayout>
