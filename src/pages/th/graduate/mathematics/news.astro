---
import Hero from "@/common/components/Hero.astro";
import SideBarUnGrad from "@/common/components/SIdebar/SideBar.astro";
import BaseLayout from "@/layouts/BaseLayout.astro";
import { getNews } from "@/libs/api/post";

import { createSidebarItemsGraduate } from "@/libs/const";
import NewsCard2 from "@/modules/news-events/components/news/NewsCard2.astro";
import { ArrowRightIcon, NewspaperIcon } from "@heroicons/react/24/solid";
const news = await getNews("gradudate_mathematics-graduate	", -1);

import { getLangFromUrl, useTranslations } from "@/i18n/utils";
const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<BaseLayout title={t("program.graduate.mathematics.news.title")}>
	<Hero
		title={t("program.graduate.mathematics.news.hero.title")}
		subtitle={t("program.graduate.mathematics.news.hero.subTitle")}
	/>

	<div class="mx-auto mb-20 grid max-w-screen-xl gap-5 p-5 md:grid-cols-4 md:gap-10">
		<aside class="col-span-1">
			<nav class="sticky top-32 bg-gray-50">
				<SideBarUnGrad navItems={createSidebarItemsGraduate("mathematics", lang)} />
			</nav>
		</aside>
		<main class="grid overflow-x-auto scroll-smooth md:col-span-3">
			{
				news.length === 0 && (
					<div class="flex h-full flex-col items-center justify-center rounded-xl bg-gray-50 py-10">
						<NewspaperIcon className="h-10 w-10 text-slate-800 mx-auto" />
						<p class="text-center font-kanit text-xl text-slate-800">{t("program.news.no_news")}</p>
						<a
							href="/news-events"
							class="inline-flex items-center text-slate-500 hover:border-b hover:border-b-slate-800"
						>
							{t("program.news.explore_more")}
							<ArrowRightIcon className="h-4 w-4 text-slate-800 inline-block ml-2" />
						</a>
					</div>
				)
			}
			{
				news.length > 0 && (
					<div class="grid grid-cols-3 gap-5">
						{news.map((post: any) => {
							return <NewsCard2 news={post} />;
						})}
					</div>
				)
			}
		</main>
	</div>
</BaseLayout>
