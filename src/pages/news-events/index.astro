---
import Hero from "@/common/components/Hero.astro";
import BaseLayout from "@/layouts/BaseLayout.astro";
import { ArrowRightIcon } from "@heroicons/react/24/outline";
import { Image } from "astro:assets";

import apamImage from "@/assets/img/icon/news-category/apam.png";
import awardImage from "@/assets/img/icon/news-category/award.png";
import seminarImage from "@/assets/img/icon/news-category/seminar.png";
import { getLangFromUrl, useTranslations } from "@/i18n/utils";
import EventGrid from "@/modules/news-events/components/event/EventGrid.astro";
import NewsGrid from "@/modules/news-events/components/news/NewsGrid.astro";

const STORY_NEWS_CATEGORY = "story-news";
const AWARD_CATEGORY = "award";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<BaseLayout title={t("news.title")}>
	<Hero title={t("news.hero.title")} subtitle={t("news.hero.subTitle")} />
	<main>
		<section class="mx-auto my-10 grid max-w-screen-xl gap-5 px-5 lg:grid-cols-2">
			<section>
				<header>
					<h2 class="font-kanit text-3xl font-semibold">{t("news.stories-news.recents")}</h2>
					<a href="/news-events/stories-news" class="inline-flex items-center font-sarabun underline"
						>{t("news.stories-news.all")} <ArrowRightIcon className="ml-1 w-4" /></a
					>
				</header>
				<div class="mt-5 grid gap-y-5">
					<NewsGrid category={STORY_NEWS_CATEGORY} />
				</div>
			</section>
			<section>
				<header>
					<h2 class="font-kanit text-3xl font-semibold">{t("news.awards")}</h2>
					<a href="/news-events/award" class="inline-flex items-center font-sarabun underline"
						>{t("news.awards.all")}<ArrowRightIcon className="ml-1 w-4" /></a
					>
				</header>
				<div class="mt-5 grid gap-y-5">
					<NewsGrid category={AWARD_CATEGORY} />
				</div>
			</section>
		</section>
		<section class="bg-gray-100 py-10 font-kanit">
			<div class="mx-auto max-w-screen-xl px-5 pb-5">
				<header class="flex items-center justify-center">
					<h2 class="font-kanit text-3xl font-semibold uppercase text-slate-800">
						{t("news.upcoming_events")}
					</h2>
				</header>
				<section class="mt-5 grid lg:grid-cols-3">
					<EventGrid />
				</section>
			</div>
		</section>
		<section class="bg-gray-700 py-10 font-kanit">
			<div class="mx-auto max-w-screen-xl px-5 pb-5">
				<section class="mt-5 grid justify-items-center lg:grid-cols-3">
					<a href="/news-events/award" class="grid w-full justify-items-center border-r border-r-gray-900">
						<Image src={awardImage} alt="Award" class="h-24 w-24" />
						<h2 class="mt-5 text-center text-2xl text-white">{t("news.awards.all")}</h2>
					</a>
					<a href="/events" class="grid w-full justify-items-center border-r border-r-gray-900">
						<Image src={seminarImage} alt="Seminar" class="h-24 w-24" />
						<h2 class="mt-5 text-center text-2xl text-white">{t("news.seminars.all")}</h2>
					</a>
					<a href="/news-events/apam" class="grid w-full justify-items-center">
						<Image src={apamImage} alt="APAM" class="h-24 w-24" />
						<h2 class="mt-5 text-center text-2xl text-white">{t("news.apam")}</h2>
					</a>
				</section>
			</div>
		</section>
	</main>
</BaseLayout>
